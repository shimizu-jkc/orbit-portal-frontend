(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{308:function(t,e,a){"use strict";a.r(e);var s=a(9),_=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"ユーザーidの管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ユーザーidの管理"}},[t._v("#")]),t._v(" ユーザーIDの管理")]),t._v(" "),a("p",[t._v("AWSアカウントを作成したとしても、そこにアクセスが可能なユーザーを作成しない限り、AWSサービスを利用することはできません。しかし、ユーザーはただ作ればいいという訳ではなく、「そのユーザーにどのような権限を与えるか」、「そのユーザーのIDをどう守るのか」といった点を考慮する必要があります。これは一般的に"),a("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/best-practices.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("「IAMのベストプラクティス」"),a("OutboundLink")],1),t._v("に沿って、ユーザー登録や設定を進めれば問題ありませんが、AWSの利用に不慣れな方には大きな負担となります。")]),t._v(" "),a("p",[t._v("また、AWSアカウントは携わるプロジェクトが増えたり、その利用目的によっては段々と増えていきがちです。そうなると、「どのアカウントがどのプロジェクトなのか」、「このアカウントのアクセス権限はどうなっていたか」といった点を管理する必要が出てきます。これらは一般的にブックマークとして管理され、煩雑になりがちです。アカウント毎に異なるIDを使用してる場合は、それらの管理も必要になってきます。")]),t._v(" "),a("p",[t._v("OrBITでは、ユーザーIDを一元的に管理することでプロジェクトの運用負荷を削減します。"),a("br"),t._v("\nまた、そのユーザーがアクセスできるAWSアカウントを一覧で確認可能なポータル画面を提供することで、煩雑なブックマーク管理に悩まされることは無くなるでしょう。")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#利用するawsサービス"}},[t._v("利用するAWSサービス")])]),a("li",[a("a",{attrs:{href:"#用語定義"}},[t._v("用語定義")])]),a("li",[a("a",{attrs:{href:"#プロジェクトアカウントへのアクセス手段"}},[t._v("プロジェクトアカウントへのアクセス手段")])]),a("li",[a("a",{attrs:{href:"#iamユーザーとの関係"}},[t._v("IAMユーザーとの関係")])]),a("li",[a("a",{attrs:{href:"#ssoポータル"}},[t._v("SSOポータル")]),a("ul",[a("li",[a("a",{attrs:{href:"#招待メール"}},[t._v("招待メール")])]),a("li",[a("a",{attrs:{href:"#パスワードポリシー"}},[t._v("パスワードポリシー")])]),a("li",[a("a",{attrs:{href:"#_2段階認証"}},[t._v("2段階認証")])])])]),a("li",[a("a",{attrs:{href:"#ssoユーザー"}},[t._v("SSOユーザー")]),a("ul",[a("li",[a("a",{attrs:{href:"#役割の一覧"}},[t._v("役割の一覧")])]),a("li",[a("a",{attrs:{href:"#アクセス権限の一覧"}},[t._v("アクセス権限の一覧")])]),a("li",[a("a",{attrs:{href:"#役割とアクセス権限のマッピング"}},[t._v("役割とアクセス権限のマッピング")])]),a("li",[a("a",{attrs:{href:"#各種申請"}},[t._v("各種申請")])])])]),a("li",[a("a",{attrs:{href:"#ユーザーidの棚卸"}},[t._v("ユーザーIDの棚卸")])]),a("li",[a("a",{attrs:{href:"#チュートリアル"}},[t._v("チュートリアル")]),a("ul",[a("li",[a("a",{attrs:{href:"#ssoポータルから一時クレデンシャルを取得する"}},[t._v("SSOポータルから一時クレデンシャルを取得する")])])])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"利用するawsサービス"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#利用するawsサービス"}},[t._v("#")]),t._v(" 利用するAWSサービス")]),t._v(" "),a("ul",[a("li",[a("p",[a("em",[a("strong",[t._v("AWS Single Sign-On (AWS SSO)")])])]),t._v(" "),a("p",[t._v("複数のAWSアカウントとビジネスアプリケーションへのアクセスを一元管理できるようになり、すべての割り当て済みアカウントとアプリケーションに対して、シングルサインオンを可能にするサービスです。"),a("br"),t._v("\n組織管理と連携することで、統合的なユーザー管理とアクセス権限管理を行うことができるようになります。")]),t._v(" "),a("p",[t._v("詳細は以下を参照してください。")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/singlesignon/latest/userguide/what-is.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("「AWS Single Sign-On ユーザーガイド」"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("INFO")]),t._v(" "),a("p",[a("em",[t._v("AWS SSO")]),t._v("の利用に料金はかかりません。")])])])]),t._v(" "),a("h2",{attrs:{id:"用語定義"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用語定義"}},[t._v("#")]),t._v(" 用語定義")]),t._v(" "),a("p",[t._v("本章で使用する用語は以下のように定義します。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("用語")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("意味")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SSO")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBITで提供するシングルサインオンサービスの名称")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SSOポータル")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("SSOを利用する為のポータルサイトの名称")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SSOユーザー")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBITにて管理されるSSO利用ユーザーの相称")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("IAMユーザー")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("プロジェクトで任意に作成・管理するユーザーの総称")])])])]),t._v(" "),a("h2",{attrs:{id:"プロジェクトアカウントへのアクセス手段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#プロジェクトアカウントへのアクセス手段"}},[t._v("#")]),t._v(" プロジェクトアカウントへのアクセス手段")]),t._v(" "),a("p",[t._v("一般的に、AWSアカウントを作成した後は"),a("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/best-practices.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("「IAMのベストプラクティス」"),a("OutboundLink")],1),t._v("に沿って、IAMユーザーの作成や設定を進めれば問題ありませんが、以降の運用も含めると管理者にはある程度のIAMに関する知識と経験が必要になってきます。")]),t._v(" "),a("p",[t._v("そこで、OrBITでは"),a("em",[t._v("AWS SSO")]),t._v("を使った、シングルサインオンサービスを提供しています。")]),t._v(" "),a("p",[t._v("SSOを利用すると、以下のようなポータル画面が提供され、ユーザーが所属するプロジェクトアカウントと割り当てられたアクセス権限の確認、およびアクセスを行うことができます。")]),t._v(" "),a("CaptionedImage",{attrs:{src:"sso_portal.png"}}),t._v(" "),a("p",[t._v("この例の場合、ユーザーは"),a("code",[t._v("TestProject dev")]),t._v(","),a("code",[t._v("TestProject2 dev")]),t._v(","),a("code",[t._v("TestProject3 dev")]),t._v("の3つのプロジェクトアカウントに所属しています。また、"),a("code",[t._v("TestProject dev")]),t._v("のプロジェクトアカウントには、"),a("code",[t._v("AdministratorAccess")]),t._v("権限でアクセスが可能です。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("INFO")]),t._v(" "),a("p",[t._v("実際のポータル画面には、プロジェクトアカウントのアカウントIDとルートユーザのEメールアドレスも表示されます。このEメールアドレスはプロジェクト側でご利用頂くことも可能です。詳細は"),a("a",{attrs:{href:"/guide/aws/account-management#%E3%83%AB%E3%83%BC%E3%83%88%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%81%AEe%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9"}},[t._v("「ルートユーザーのEメールアドレス」")]),t._v("を参照して下さい。")])]),t._v(" "),a("h2",{attrs:{id:"iamユーザーとの関係"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#iamユーザーとの関係"}},[t._v("#")]),t._v(" IAMユーザーとの関係")]),t._v(" "),a("p",[t._v("もしプロジェクト内に、IAMユーザーに関する知識や運用経験があるユーザーがいる場合は、SSOを利用せずにIAMで管理することも可能です。")]),t._v(" "),a("p",[t._v("SSOユーザーを利用した場合とIAMユーザーを利用した場合の比較については以下にまとめています。"),a("br"),t._v("\nプロジェクト側でどちらを利用するか決める際に参考にしてください。")]),t._v(" "),a("p",[t._v("IAMユーザーを利用する場合、本章の内容はスキップして構いません。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("項目")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("SSOユーザー")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("IAMユーザー")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("運用主体")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBIT運用チーム")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("プロジェクト")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("セキュリティ責任の所在")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBIT運用チーム")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("プロジェクト")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("セキュリティポリシーへの準拠")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("透過的に準拠")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("意識的に準拠が必要*1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ユーザーに関連した作業")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBIT運用チームに申請が必要")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自由に変更可能")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("アクセス権限"),a("br"),t._v("(IAMポリシー)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("決められた役割から選択*2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("自由に変更可能")])])])]),t._v(" "),a("p",[t._v("*1 セキュリティポリシーからの逸脱検知などの最低限の準拠する仕組みは提供します。"),a("br"),t._v("\n*2 役割に対して権限が足りない場合は、問い合わせて頂ければ対応します。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("INFO")]),t._v(" "),a("p",[t._v("SSOユーザーとIAMユーザーのハイブリッド運用も可能です。")]),t._v(" "),a("p",[t._v("例えば、マネジメントコンソールへのログインはSSOユーザーで管理し、SaaSなどAWS外からのアクセスに関してはIAMユーザーのクレデンシャルを利用する、といった運用は良く使われています。")])]),t._v(" "),a("h2",{attrs:{id:"ssoポータル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssoポータル"}},[t._v("#")]),t._v(" SSOポータル")]),t._v(" "),a("p",[t._v("SSOを利用すると、ユーザーが所属しているプロジェクトアカウントおよび割り当てられたアクセス権限をポータル画面にて一覧で確認し、アカウントへアクセスすることが可能です。")]),t._v(" "),a("p",[t._v("このポータル画面を"),a("strong",[t._v("SSOポータル")]),t._v("と呼びます。")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"/guide/common/introduction#_3-orbit%E3%83%9D%E3%83%BC%E3%82%BF%E3%83%AB"}},[t._v("OrBITポータル")]),t._v("(本サイト)とは異なりますのでご注意ください。")])]),t._v(" "),a("p",[t._v("SSOポータルへは以下からアクセスすることが可能です。"),a("br"),t._v(" "),a("a",{attrs:{href:"https://d-9267100edb.awsapps.com/start/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://d-9267100edb.awsapps.com/start/"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("SSOポータルへのログインには、事前にOrBIT運用チームへのユーザー登録申請が必要です。")])]),t._v(" "),a("h3",{attrs:{id:"招待メール"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#招待メール"}},[t._v("#")]),t._v(" 招待メール")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOユーザーの登録が完了すると、指定したEメールアドレスに以下のような招待メールが届きますので、メール本文の "),a("strong",[t._v("[Accept Invitation]")]),t._v(" をクリックしてパスワード登録を行ってください。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-ssl-devio-img.classmethod.jp/wp-content/uploads/2018/10/aws-sso-owndir-031.png",alt:""}})]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("招待メールの期限は7日間です。"),a("br"),t._v("\nもし期限を過ぎてしまった場合は、"),a("a",{attrs:{href:"/support/contact"}},[t._v("問い合わせ窓口")]),t._v("よりお問い合わせください。")])]),t._v(" "),a("h3",{attrs:{id:"パスワードポリシー"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#パスワードポリシー"}},[t._v("#")]),t._v(" パスワードポリシー")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOユーザーのログインパスワードはセキュリティポリシーに準拠するため、以下のパスワードポリシーを適用しています。")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("8")]),t._v(" ～ "),a("strong",[t._v("64")]),t._v(" 文字以内であること")]),t._v(" "),a("li",[a("strong",[t._v("英小文字")]),t._v("を最低1文字は含むこと")]),t._v(" "),a("li",[a("strong",[t._v("英大文字")]),t._v("を最低1文字は含むこと")]),t._v(" "),a("li",[a("strong",[t._v("数字")]),t._v("を最低1文字は含むこと")]),t._v(" "),a("li",[a("strong",[t._v("特殊文字")]),t._v("を最低1文字は含むこと")])]),t._v(" "),a("h3",{attrs:{id:"_2段階認証"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2段階認証"}},[t._v("#")]),t._v(" 2段階認証")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOポータルへのログインには、Eメールベースの2段階認証を適用しています。"),a("br"),t._v("\nはじめて、もしくはログイン環境が変わった際、SSOポータルへログインしようとすると、以下のようなダイアログが表示される場合があります。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-ssl-devio-img.classmethod.jp/wp-content/uploads/2019/08/aws-sso-2step-verification-6-320x457.jpg",alt:""}})]),t._v(" "),a("p",[t._v("このダイアログが表示されると共に、ユーザー登録時に指定したEメールアドレスへ、以下のような検証コードを記載したメールが送信されます。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-ssl-devio-img.classmethod.jp/wp-content/uploads/2019/08/aws-sso-2step-verification-5-640x506.jpg",alt:""}})]),t._v(" "),a("p",[t._v("この検証コードをダイアログに入力することで、本人であると認証されて各プロジェクトアカウントへのアクセスが可能になります。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("初回の2段階認証時にデバイスを信頼しておくと、以降はそのデバイスからのログイン時には2段階認証をスキップすることができます。"),a("br"),t._v("\nしかし、ログインするデバイスや場所が通常と異なる場合は再度、同認証が必要になります。")])]),t._v(" "),a("h2",{attrs:{id:"ssoユーザー"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssoユーザー"}},[t._v("#")]),t._v(" SSOユーザー")]),t._v(" "),a("p",[t._v("SSOユーザーはOrBITで管理されるため、プロジェクトの運用工数を削減することができます。"),a("br"),t._v("\nIAMに関する深い知識が無くても、OrBITが提供するフレームワークに沿うことで、一般的かつセキュアな運用をすぐに始めることができます。")]),t._v(" "),a("p",[t._v("ただし、IAMに関して、ある程度の知識がある場合や、細かくポリシー制御を行いたい場合は、各種申請にオーバーヘッドが掛かってしまいますので、その場合はIAMユーザーの利用を推奨します。")]),t._v(" "),a("h3",{attrs:{id:"役割の一覧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#役割の一覧"}},[t._v("#")]),t._v(" 役割の一覧")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOユーザーには、ユーザー登録の申請をする際に、最低1つ以上の役割を割り当てる必要があります。この役割は、OrBITによって定義されたクラウドを利用する上で必要となる一般的な職務であり、以下の種類があります。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("役割名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("説明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("プロジェクト責任者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("プロジェクトにおける責任者です。必ず1人割り当てる必要があります。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("コスト管理者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("利用料金や請求内容を確認し、コストを把握・管理します。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("セキュリティ担当者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("インシデント発生時の対策やエスカレーション時の窓口となります。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("特権運用者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("サービスにおける緊急的な運用を行います。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("運用者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("サービスにおける定常的な運用を行います。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("データベース管理者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("データベースの開発や運用を行います。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("特権開発者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("サービスの開発を主導し、管理を行ないます。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("開発者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("サービスの開発を行います。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("データ解析者")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("蓄積したデータの確認や解析を行います。")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ゲスト")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("プロジェクトの直接的ではない関係者や外部者です。")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),a("p",[t._v("OrBITの実運用が進むにつれ、役割は変更される可能性があります。")])]),t._v(" "),a("h3",{attrs:{id:"アクセス権限の一覧"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#アクセス権限の一覧"}},[t._v("#")]),t._v(" アクセス権限の一覧")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOユーザーがプロジェクトアカウントへアクセスする為には、ユーザーの登録と同時に、アクセス権限を付与する必要があります。")]),t._v(" "),a("p",[t._v("OrBITでは以下のアクセス権限を用意しており、役割や用途に応じて、いずれかの権限が1つ以上付与されます。また、各アクセス権限にはセッション時間が設けられており、その上限を超えた場合は再度ログインが必要になります。")]),t._v(" "),a("p",[t._v("尚、各アクセス権限の詳細なポリシーについてリンク先をご確認ください。")]),t._v(" "),a("blockquote",[a("p",[t._v("マネジメントコンソールへのリンクとなっていますので、事前にログインしてください。")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("アクセス権限名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("セッション"),a("br"),t._v("(単位:時間)")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("内容")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/AdministratorAccess",target:"_blank",rel:"noopener noreferrer"}},[t._v("AdministratorAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("フルアクセスの許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/Billing",target:"_blank",rel:"noopener noreferrer"}},[t._v("BillingAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("利用料金・請求情報へのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/DatabaseAdministrator",target:"_blank",rel:"noopener noreferrer"}},[t._v("DBManagerAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("一連のDBサービスへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/DataScientist",target:"_blank",rel:"noopener noreferrer"}},[t._v("DataAnalystAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("一連のデータ解析サービスへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/NetworkAdministrator",target:"_blank",rel:"noopener noreferrer"}},[t._v("NetworkManagerAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ネットワーク関連リソースへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/PowerUserAccess",target:"_blank",rel:"noopener noreferrer"}},[t._v("PowerUserAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("12")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("アプリ開発に必要なサービスへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/ViewOnlyAccess",target:"_blank",rel:"noopener noreferrer"}},[t._v("ReadOnlyAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("閲覧専用のアクセス権限")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/SecurityAudit",target:"_blank",rel:"noopener noreferrer"}},[t._v("SecurityAuditorAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("セキュリティ監査に関するサービスへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/SupportUser",target:"_blank",rel:"noopener noreferrer"}},[t._v("SupportUserAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("AWSサポートへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[a("a",{attrs:{href:"https://console.aws.amazon.com/iam/home#policies/arn:aws:iam::aws:policy/job-function/SystemAdministrator",target:"_blank",rel:"noopener noreferrer"}},[t._v("SystemManagerAccess"),a("OutboundLink")],1)]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("システム管理に関するサービスへのアクセス許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("XXXFullAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("特定サービスへのフルアクセスの許可")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("XXXProgrammaticAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("ANY*1")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("プログラムやコマンドからの特定サービスへの許可")])])])]),t._v(" "),a("p",[t._v("*1 サービスによってセッション時間が異なります。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("NOTE")]),t._v(" "),a("p",[t._v("OrBITの実運用が進むにつれ、アクセス権限は変更される可能性があります。")])]),t._v(" "),a("h3",{attrs:{id:"役割とアクセス権限のマッピング"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#役割とアクセス権限のマッピング"}},[t._v("#")]),t._v(" 役割とアクセス権限のマッピング")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("各SSOユーザーは、少なくとも1つ以上の役割が割り当てられており、その役割毎にアクセス権限が付与されます。また、プロジェクトアカウントの利用目的によっては、一部の役割を割り当てることができません。詳細は以下の表を参照してください。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("役割")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("付与されるアクセス権限")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("検証環境"),a("br"),t._v("開発環境")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("ステージング環境"),a("br"),t._v("本番環境")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("プロジェクト責任者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("AdministratorAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("コスト管理者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("BillingAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("セキュリティ担当者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("SecurityAuditorAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("特権運用者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("AdministratorAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("運用者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("SystemManagerAccess"),a("br"),t._v("NetworkManagerAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}}),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("データベース管理者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DBManagerAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("特権開発者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("AdministratorAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("開発者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("PowerUserAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("データ解析者")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DataAnalystAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ゲスト")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("ReadOnlyAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("-")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("OrBIT運用チーム*1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("SecurityAuditorAccess")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("✔️")])])])]),t._v(" "),a("p",[t._v("*1 OrBIT運用チームでは、インシデントの発生時に要因の調査や解析を支援することがあるため、すべてのプロジェクトに対して"),a("code",[t._v("SecurityAuditorAccess")]),t._v("を持ちます。詳細は"),a("a",{attrs:{href:"/aws/guide/monitoring#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%82%A8%E3%82%B9%E3%82%AB%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"}},[t._v("「セキュリティエスカレーション」")]),t._v("をご覧ください。")]),t._v(" "),a("h3",{attrs:{id:"各種申請"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#各種申請"}},[t._v("#")]),t._v(" 各種申請")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("SSOユーザーの登録、削除および役割を変更する際は、以下のフォームから申請することができます。")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/request/regist-user"}},[t._v("「ユーザーの登録申請フォーム」")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/request/update-user"}},[t._v("「ユーザーの情報変更申請フォーム」")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/request/unregist-user"}},[t._v("「ユーザーの削除申請フォーム」")])])]),t._v(" "),a("h2",{attrs:{id:"ユーザーidの棚卸"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ユーザーidの棚卸"}},[t._v("#")]),t._v(" ユーザーIDの棚卸")]),t._v(" "),a("p",[t._v("OrBITでは、定期的にSSOを利用しているすべてのプロジェクトアカウントに対して、下記要件にてユーザーIDの棚卸をお願いしています。ユーザーIDの棚卸は、不要な認証情報の流出を防ぐためにも重要ですので、ご協力をお願いします。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("項目")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("内容")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("対象")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SSOを利用するすべてのプロジェクトアカウント")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("実施時期")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("9月末と3月末 / 毎年")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("依頼先")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("プロジェクト責任者")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("依頼手段")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Eメールアドレス")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("添付資料")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SSOユーザーおよびアクセス権限の一覧")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("依頼内容")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("不要なSSOユーザーがいないかの確認"),a("br"),t._v("意図していないアクセス権限が割り当てられていないかの確認")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("ATTENTION")]),t._v(" "),a("p",[t._v("IAMユーザーに関しては棚卸対象ではありませんが、定期的にユーザーのIDを確認することは非常に重要ですので、同程度の頻度でIAMユーザーも棚卸することを推奨します。")])]),t._v(" "),a("h2",{attrs:{id:"チュートリアル"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#チュートリアル"}},[t._v("#")]),t._v(" チュートリアル")]),t._v(" "),a("h3",{attrs:{id:"ssoポータルから一時クレデンシャルを取得する"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssoポータルから一時クレデンシャルを取得する"}},[t._v("#")]),t._v(" SSOポータルから一時クレデンシャルを取得する")]),t._v(" "),a("p",[t._v("プログラムやコマンドからAWSサービスへアクセスする際には、クレデンシャルとしてアクセスキーおよびシークレットアクセスキーのペアが必要になります。一般的にクレデンシャルはIAMユーザー作成時に払い出されますが、SSOを利用している場合は、SSOポータルから取得することができます。")]),t._v(" "),a("p",[t._v("ここでは、SSOポータルから一時的なクレデンシャルを取得する方法を紹介します。")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("IMPORTANT")]),t._v(" "),a("p",[t._v("SSOポータルから取得した一時クレデンシャルには、"),a("a",{attrs:{href:"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E6%A8%A9%E9%99%90%E3%81%AE%E4%B8%80%E8%A6%A7"}},[t._v("アクセス権限")]),t._v("に応じたセッション時間の上限があります。永続的なクレデンシャルを利用したい場合は、IAMユーザーを作成してクレデンシャルを払い出してください。")])]),t._v(" "),a("h4",{attrs:{id:"_1-ssoポータルへログインし、ポータル画面を表示します。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-ssoポータルへログインし、ポータル画面を表示します。"}},[t._v("#")]),t._v(" 1. SSOポータルへログインし、ポータル画面を表示します。")]),t._v(" "),a("CaptionedImage",{attrs:{src:"sso_portal.png"}}),t._v(" "),a("h4",{attrs:{id:"_2-アクセスしたいアカウントを展開し、-command-line-and-programmatic-accessと書いてあるリンクをクリックします。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-アクセスしたいアカウントを展開し、-command-line-and-programmatic-accessと書いてあるリンクをクリックします。"}},[t._v("#")]),t._v(" 2. アクセスしたいアカウントを展開し、 "),a("strong",[t._v("Command line and programmatic access")]),t._v("と書いてあるリンクをクリックします。")]),t._v(" "),a("CaptionedImage",{attrs:{src:"sso_portal_cred.png"}}),t._v(" "),a("h4",{attrs:{id:"_3-以下の画面が表示されますので、環境と用途に合わせてクレデンシャルをコピーします。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-以下の画面が表示されますので、環境と用途に合わせてクレデンシャルをコピーします。"}},[t._v("#")]),t._v(" 3. 以下の画面が表示されますので、環境と用途に合わせてクレデンシャルをコピーします。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn-ssl-devio-img.classmethod.jp/wp-content/uploads/2018/08/0044-640x560.png",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"_4-用途に応じて、適切にクレデンシャルを設定します。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-用途に応じて、適切にクレデンシャルを設定します。"}},[t._v("#")]),t._v(" 4. 用途に応じて、適切にクレデンシャルを設定します。")]),t._v(" "),a("ul",[a("li",[t._v("環境変数の場合")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('export AWS_ACCESS_KEY_ID="xxxxxxxxxxxxxxxxxxxxxxxx"\nexport AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"\nexport AWS_SESSION_TOKEN="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"\n')])])]),a("ul",[a("li",[a("p",[t._v("認証情報ファイルの場合")]),t._v(" "),a("p",[t._v("~/.aws/credentialsに以下のテキストを追記します。")]),t._v(" "),a("blockquote",[a("p",[t._v("プロファイルは必要に応じて分けてください。詳細は"),a("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/cli/latest/userguide/cli-configure-profiles.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("こちら"),a("OutboundLink")],1),t._v("を参照して下さい。")])])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("[default]\naws_access_key_id = XXXXXXXXXXXXXXXXXXXX\naws_secret_access_key = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\naws_session_token = XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n")])])]),a("h4",{attrs:{id:"_5-クレデンシャルが適切に設定できているかを確認します。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-クレデンシャルが適切に設定できているかを確認します。"}},[t._v("#")]),t._v(" 5. クレデンシャルが適切に設定できているかを確認します。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('aws sts get-caller-identity\n\n{\n    "Account": "xxxxxxxxxxxx",\n    "UserId": "XXXXXXXXXXXXXXXXXXXXX:(Domain user name)@(Domain name)",\n    "Arn": "arn:aws:sts::xxxxxxxxxxxx:assumed-role/AWSReservedSSO_AdministratorAccess_xxxxxxxxxxxxxxxx/(Domain user name)@(Domain name)"\n}\n')])])]),a("p",[t._v("これでこのチュートリアルは終了です。")])],1)}),[],!1,null,null,null);e.default=_.exports}}]);