<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ベースライン | OrBIT Portal</title>
    <meta name="description" content="OrBITは、クラウドを利用した開発や運用を支援するために作られた「クラウド基盤」です。">
    <meta name="generator" content="VuePress 1.3.0">
    
    
    <link rel="preload" href="/assets/css/0.styles.1b1033a6.css" as="style"><link rel="preload" href="/assets/js/app.6e613672.js" as="script"><link rel="preload" href="/assets/js/2.6effe7eb.js" as="script"><link rel="preload" href="/assets/js/17.e9a5ebd0.js" as="script"><link rel="preload" href="/assets/js/6.db5e8172.js" as="script"><link rel="prefetch" href="/assets/js/10.73a91ab7.js"><link rel="prefetch" href="/assets/js/11.9f696f40.js"><link rel="prefetch" href="/assets/js/12.902143a9.js"><link rel="prefetch" href="/assets/js/13.1ed26d5d.js"><link rel="prefetch" href="/assets/js/14.bba526d4.js"><link rel="prefetch" href="/assets/js/15.798de3fa.js"><link rel="prefetch" href="/assets/js/16.800c41ae.js"><link rel="prefetch" href="/assets/js/18.49722d11.js"><link rel="prefetch" href="/assets/js/19.0b464714.js"><link rel="prefetch" href="/assets/js/20.8c2d629c.js"><link rel="prefetch" href="/assets/js/21.9d1eca48.js"><link rel="prefetch" href="/assets/js/22.8776f6fd.js"><link rel="prefetch" href="/assets/js/23.8a803773.js"><link rel="prefetch" href="/assets/js/24.4e299239.js"><link rel="prefetch" href="/assets/js/25.9a606a29.js"><link rel="prefetch" href="/assets/js/26.18483775.js"><link rel="prefetch" href="/assets/js/27.1ef34b8a.js"><link rel="prefetch" href="/assets/js/28.65b1a1e8.js"><link rel="prefetch" href="/assets/js/29.ad956996.js"><link rel="prefetch" href="/assets/js/3.8581f20c.js"><link rel="prefetch" href="/assets/js/30.f977c3fa.js"><link rel="prefetch" href="/assets/js/31.012cf2e7.js"><link rel="prefetch" href="/assets/js/32.78f14a65.js"><link rel="prefetch" href="/assets/js/33.fb0d84f4.js"><link rel="prefetch" href="/assets/js/34.4dbfc980.js"><link rel="prefetch" href="/assets/js/35.d18f948e.js"><link rel="prefetch" href="/assets/js/36.296a95fe.js"><link rel="prefetch" href="/assets/js/37.42201313.js"><link rel="prefetch" href="/assets/js/38.c2c30190.js"><link rel="prefetch" href="/assets/js/39.cec55229.js"><link rel="prefetch" href="/assets/js/4.0e70482a.js"><link rel="prefetch" href="/assets/js/40.7c86a0a4.js"><link rel="prefetch" href="/assets/js/41.6cd3edc9.js"><link rel="prefetch" href="/assets/js/5.b2bfcdf0.js"><link rel="prefetch" href="/assets/js/7.2741dbd3.js"><link rel="prefetch" href="/assets/js/8.30f41f24.js"><link rel="prefetch" href="/assets/js/9.d7cca6c7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1b1033a6.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="OrBIT Portal" class="logo"> <span class="site-name can-hide">OrBIT Portal</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/information/" class="nav-link">
  おしらせ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ユーザーガイド" class="dropdown-title"><span class="title">ユーザーガイド</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/common/introduction.html" class="nav-link">
  はじめに
</a></li><li class="dropdown-item"><!----> <a href="/guide/aws/" class="nav-link router-link-active">
  AWSを利用する場合
</a></li><li class="dropdown-item"><!----> <a href="/guide/gcp/" class="nav-link">
  GCPを利用する場合
</a></li><li class="dropdown-item"><!----> <a href="/guide/common/glossary.html" class="nav-link">
  用語集
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各種申請" class="dropdown-title"><span class="title">各種申請</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          クラウド環境関連
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/create-env.html" class="nav-link">
  払い出し申請
</a></li><li class="dropdown-subitem"><a href="/request/update-env.html" class="nav-link">
  設定変更申請
</a></li><li class="dropdown-subitem"><a href="/request/destroy-env.html" class="nav-link">
  解約申請
</a></li></ul></li><li class="dropdown-item"><h4>
          ユーザー関連
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/regist-user.html" class="nav-link">
  登録申請
</a></li><li class="dropdown-subitem"><a href="/request/update-user.html" class="nav-link">
  情報変更申請
</a></li><li class="dropdown-subitem"><a href="/request/unregist-user.html" class="nav-link">
  削除申請
</a></li></ul></li><li class="dropdown-item"><h4>
          作業依頼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/update-support.html" class="nav-link">
  サポートプラン変更
</a></li><li class="dropdown-subitem"><a href="/request/analyze-auditlog.html" class="nav-link">
  監査ログ確認
</a></li><li class="dropdown-subitem"><a href="/request/other.html" class="nav-link">
  その他
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="カタログ" class="dropdown-title"><span class="title">カタログ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/catalog/introduction.html" class="nav-link">
  カタログとは
</a></li><li class="dropdown-item"><!----> <a href="/catalog/list.html" class="nav-link">
  カタログ一覧
</a></li><li class="dropdown-item"><!----> <a href="/catalog/feedback.html" class="nav-link">
  要望/フィードバック
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="サポート" class="dropdown-title"><span class="title">サポート</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/support/release.html" class="nav-link">
  リリースノート
</a></li><li class="dropdown-item"><!----> <a href="/support/contact.html" class="nav-link">
  お問い合わせ
</a></li></ul></div></div> <a href="https://github.com/jkc-cloud/orbit-doc-UserManual" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/information/" class="nav-link">
  おしらせ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ユーザーガイド" class="dropdown-title"><span class="title">ユーザーガイド</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/common/introduction.html" class="nav-link">
  はじめに
</a></li><li class="dropdown-item"><!----> <a href="/guide/aws/" class="nav-link router-link-active">
  AWSを利用する場合
</a></li><li class="dropdown-item"><!----> <a href="/guide/gcp/" class="nav-link">
  GCPを利用する場合
</a></li><li class="dropdown-item"><!----> <a href="/guide/common/glossary.html" class="nav-link">
  用語集
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="各種申請" class="dropdown-title"><span class="title">各種申請</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          クラウド環境関連
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/create-env.html" class="nav-link">
  払い出し申請
</a></li><li class="dropdown-subitem"><a href="/request/update-env.html" class="nav-link">
  設定変更申請
</a></li><li class="dropdown-subitem"><a href="/request/destroy-env.html" class="nav-link">
  解約申請
</a></li></ul></li><li class="dropdown-item"><h4>
          ユーザー関連
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/regist-user.html" class="nav-link">
  登録申請
</a></li><li class="dropdown-subitem"><a href="/request/update-user.html" class="nav-link">
  情報変更申請
</a></li><li class="dropdown-subitem"><a href="/request/unregist-user.html" class="nav-link">
  削除申請
</a></li></ul></li><li class="dropdown-item"><h4>
          作業依頼
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/request/update-support.html" class="nav-link">
  サポートプラン変更
</a></li><li class="dropdown-subitem"><a href="/request/analyze-auditlog.html" class="nav-link">
  監査ログ確認
</a></li><li class="dropdown-subitem"><a href="/request/other.html" class="nav-link">
  その他
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="カタログ" class="dropdown-title"><span class="title">カタログ</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/catalog/introduction.html" class="nav-link">
  カタログとは
</a></li><li class="dropdown-item"><!----> <a href="/catalog/list.html" class="nav-link">
  カタログ一覧
</a></li><li class="dropdown-item"><!----> <a href="/catalog/feedback.html" class="nav-link">
  要望/フィードバック
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="サポート" class="dropdown-title"><span class="title">サポート</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/support/release.html" class="nav-link">
  リリースノート
</a></li><li class="dropdown-item"><!----> <a href="/support/contact.html" class="nav-link">
  お問い合わせ
</a></li></ul></div></div> <a href="https://github.com/jkc-cloud/orbit-doc-UserManual" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>ユーザーガイド(AWS)</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/aws/" class="sidebar-link">利用開始にあたって</a></li><li><a href="/guide/aws/account-management.html" class="sidebar-link">AWSアカウントの管理</a></li><li><a href="/guide/aws/billing.html" class="sidebar-link">利用料金の支払い</a></li><li><a href="/guide/aws/id-management.html" class="sidebar-link">ユーザーIDの管理</a></li><li><a href="/guide/aws/security.html" class="sidebar-link">セキュリティ</a></li><li><a href="/guide/aws/threat-detection.html" class="sidebar-link">脅威検知</a></li><li><a href="/guide/aws/monitoring.html" class="sidebar-link">監視とエスカレーション</a></li><li><a href="/guide/aws/audit.html" class="sidebar-link">監査ログの記録と収集</a></li><li><a href="/guide/aws/baseline.html" class="active sidebar-link">ベースライン</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/aws/baseline.html#アーキテクチャ" class="sidebar-link">アーキテクチャ</a></li><li class="sidebar-sub-header"><a href="/guide/aws/baseline.html#リソース管理" class="sidebar-link">リソース管理</a></li><li class="sidebar-sub-header"><a href="/guide/aws/baseline.html#リソース一覧" class="sidebar-link">リソース一覧</a></li><li class="sidebar-sub-header"><a href="/guide/aws/baseline.html#ベースラインの利用料金" class="sidebar-link">ベースラインの利用料金</a></li></ul></li><li><a href="/guide/aws/faq.html" class="sidebar-link">よくある質問</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ベースライン"><a href="#ベースライン" class="header-anchor">#</a> ベースライン</h1> <p>OrBITではプロジェクトアカウントの払い出しの際に、全てのアカウントに共通してベースラインというリソースをプロビジョニングします。ここでは、そのベースラインのリソースに関する仕様について記載しています。</p> <p></p><div class="table-of-contents"><ul><li><a href="#アーキテクチャ">アーキテクチャ</a></li><li><a href="#リソース管理">リソース管理</a></li><li><a href="#リソース一覧">リソース一覧</a><ul><li><a href="#監査ログ-api-スタック">監査ログ(API)スタック</a></li><li><a href="#監査ログ-リソース構成-スタック">監査ログ(リソース構成)スタック</a></li><li><a href="#セキュリティ情報集約スタック">セキュリティ情報集約スタック</a></li><li><a href="#クロスアカウントアクセス制御スタック">クロスアカウントアクセス制御スタック</a></li><li><a href="#ベースライン内アクセス制御スタック">ベースライン内アクセス制御スタック</a></li><li><a href="#セキュリティポリシー準拠状態確認スタック">セキュリティポリシー準拠状態確認スタック</a></li><li><a href="#セキュリティポリシー逸脱検出スタック">セキュリティポリシー逸脱検出スタック</a></li><li><a href="#脅威検知スタック">脅威検知スタック</a></li></ul></li><li><a href="#ベースラインの利用料金">ベースラインの利用料金</a></li></ul></div><p></p> <h2 id="アーキテクチャ"><a href="#アーキテクチャ" class="header-anchor">#</a> アーキテクチャ</h2> <p>プロジェクトアカウントにおけるベースラインのリソースは、その目的毎にスタックという名称で分類されます。スタック、および各スタックに含まれるリソースの構成を示した図が以下になります。<br> <figure><img src="/img/baseline_architecture.png" alt> <div style="text-align:right"><figcaption><i>ベースラインアーキテクチャ</i></figcaption></div></figure></p> <h2 id="リソース管理"><a href="#リソース管理" class="header-anchor">#</a> リソース管理</h2> <p>ベースラインのリソースは全て<em>CloudFormation</em>のスタックとして管理されます。<br>
以下の命名規則に該当するスタックがベースラインのリソースを管理していますので、直接的にスタックの変更や削除はご遠慮ください。</p> <div class="language- extra-class"><pre class="language-text"><code>StackSet-SC-904580840362-XXX
StackSet-AWSControlTowerBP-BASELINE-XXX
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">IMPORTANT</p> <p>変更した場合、ご利用のプロジェクトアカウントはOrBITのサポート対象外となります。</p></div> <h2 id="リソース一覧"><a href="#リソース一覧" class="header-anchor">#</a> リソース一覧</h2> <p>ここでは、スタックとして提供される各リソースについて説明します。<br>
より詳細な情報については、<em>CloudFormation</em>のコンソール画面から直接ご確認ください。</p> <h3 id="監査ログ-api-スタック"><a href="#監査ログ-api-スタック" class="header-anchor">#</a> 監査ログ(API)スタック</h3> <hr> <p>(スタック名) <em>StackSet-AWSControlTowerBP-BASELINE-CLOUDTRAIL-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>全てのAPIコールを記録・出力</strong>することで、監査や解析に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">CloudTrail</td> <td style="text-align:left;">証跡</td> <td style="text-align:left;">aws-controltower-BaselineCloudTrail</td> <td style="text-align:left;">すべて*1</td> <td style="text-align:left;">監査ログの記録</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">ロググループ</td> <td style="text-align:left;">aws-controltower/CloudTrailLogs</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">監査ログの解析</td></tr> <tr><td style="text-align:left;">IAM</td> <td style="text-align:left;">IAMロール</td> <td style="text-align:left;">aws-controltower-CloudWatchLogsRole</td> <td style="text-align:left;">すべて*2</td> <td style="text-align:left;">監査ログの出力権限</td></tr></tbody></table> <p>*1 <em>CloudTrail</em>の証跡自体はオレゴンに作成されますが、<strong>「証跡情報を全てのリージョンに適用」</strong> のオプションが有効になっているため、すべてのリージョンで有効になります。<br>
*2 IAMはグローバルサービスであり、リージョン境界が無いため、すべてのリージョンと同義として扱います。</p> <h3 id="監査ログ-リソース構成-スタック"><a href="#監査ログ-リソース構成-スタック" class="header-anchor">#</a> 監査ログ(リソース構成)スタック</h3> <hr> <p>(スタック名) <em>StackSet-AWSControlTowerBP-BASELINE-CONFIG-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>特定のリソースに関する構成変更履歴を記録</strong>することで、監査や解析に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">Config</td> <td style="text-align:left;">記録</td> <td style="text-align:left;">aws-controltower-BaselineConfigRecorder</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">監査ログの記録</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ログ転送</td> <td style="text-align:left;">aws-controltower-BaselineConfigDeliveryChannel</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">監査ログの転送</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ログ転送承認</td> <td style="text-align:left;">なし*1</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">監査ログ転送の承認</td></tr></tbody></table> <p>*1 リソース名はありませんが、ARNは以下の形式になります。<br> <code>arn:aws:config:us-west-2:012345678910:aggregation-authorization/057922233889/us-east-2</code></p> <div class="custom-block warning"><p class="custom-block-title">ATTENTION</p> <p>現時点では、<em>AWS Config</em>は<a href="/guide/aws/#サポートリージョン">サポートリージョン</a>でのみ有効です。</p></div> <h3 id="セキュリティ情報集約スタック"><a href="#セキュリティ情報集約スタック" class="header-anchor">#</a> セキュリティ情報集約スタック</h3> <hr> <p>(スタック名) <em>StackSet-AWSControlTowerBP-BASELINE-CLOUDWATCH-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>セキュリティ情報を配信・転送</strong>することで、監視に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">CloudWatch<br>Event</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">aws-controltower-ConfigComplianceChangeEventRule</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">準拠状態変更の通知</td></tr> <tr><td style="text-align:left;">SNS</td> <td style="text-align:left;">トピック</td> <td style="text-align:left;">aws-controltower-SecurityNotifications</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">情報の配信</td></tr> <tr><td style="text-align:left;">SNS</td> <td style="text-align:left;">サブスクリプション</td> <td style="text-align:left;">ランダム*1</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">情報の配信</td></tr> <tr><td style="text-align:left;">Lambda</td> <td style="text-align:left;">関数</td> <td style="text-align:left;">aws-controltower-NotificationForwarder</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">情報の転送</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">ロググループ</td> <td style="text-align:left;">/aws/lambda/aws-controltower-NotificationForwarder</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">関数ログの確認</td></tr></tbody></table> <p>*1 リソース名はランダム文字列が付与されますが、エンドポイントは以下のLambdaになります。<br> <code>arn:aws:lambda:us-east-2:012345678910:function:aws-controltower-NotificationForwarder</code></p> <h3 id="クロスアカウントアクセス制御スタック"><a href="#クロスアカウントアクセス制御スタック" class="header-anchor">#</a> クロスアカウントアクセス制御スタック</h3> <hr> <p>(スタック名) <em>StackSet-AWSControlTowerBP-BASELINE-ROLES-XXX</em></p> <p>これらのリソースは、OrBITが各プロジェクトアカウントのベースラインリソースを管理するために使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">IAM</td> <td style="text-align:left;">ロール</td> <td style="text-align:left;">aws-controltower-AdministratorExecutionRole</td> <td style="text-align:left;">すべて*1</td> <td style="text-align:left;">スタックの更新</td></tr> <tr><td style="text-align:left;">IAM</td> <td style="text-align:left;">ロール</td> <td style="text-align:left;">aws-controltower-ReadOnlyExecutionRole</td> <td style="text-align:left;">すべて*1</td> <td style="text-align:left;">スタックの確認</td></tr></tbody></table> <p>*1 IAMはグローバルサービスであり、リージョン境界が無いため、すべてのリージョンと同義として扱います。</p> <h3 id="ベースライン内アクセス制御スタック"><a href="#ベースライン内アクセス制御スタック" class="header-anchor">#</a> ベースライン内アクセス制御スタック</h3> <hr> <p>(スタック名) <em>StackSet-AWSControlTowerBP-BASELINE-SERVICE-ROLES-XXX</em></p> <p>これらのリソースは、ベースライン内でのアクセス制御に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">IAM</td> <td style="text-align:left;">ロール</td> <td style="text-align:left;">aws-controltower-ConfigRecorderRole</td> <td style="text-align:left;">すべて*1</td> <td style="text-align:left;">Configでの利用</td></tr> <tr><td style="text-align:left;">IAM</td> <td style="text-align:left;">ロール</td> <td style="text-align:left;">aws-controltower-ForwardSnsNotificationRole</td> <td style="text-align:left;">すべて*1</td> <td style="text-align:left;">Lambdaでの利用</td></tr></tbody></table> <p>*1 IAMはグローバルサービスであり、リージョン境界が無いため、すべてのリージョンと同義として扱います。</p> <h3 id="セキュリティポリシー準拠状態確認スタック"><a href="#セキュリティポリシー準拠状態確認スタック" class="header-anchor">#</a> セキュリティポリシー準拠状態確認スタック</h3> <hr> <p>(スタック名) <em>StackSet-SC-904580840362-pp-op2ztodi3ahpk-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>セキュリティポリシーに対する準拠状態を確認・通知</strong>することで、セキュリティ監視に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-AccessKeyRotated</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">ポリシー<a href="">[1.4]</a><br>準拠のため</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-CMKBackingKeyRotationEnabled</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">ポリシー<a href="">[2.8]</a><br>準拠のため</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-VpcFlowLogsEnabled</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">ポリシー<a href="">[2.9]</a><br>準拠のため</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-DisallowSpecifiedPort</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">ポリシー<a href="">[4.1/4.2]</a><br>準拠のため</td></tr> <tr><td style="text-align:left;">Config</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-VpcDefaultSecurityGroupClosed</td> <td style="text-align:left;"><a href="/guide/aws/#サポートリージョン">サポートリージョン</a></td> <td style="text-align:left;">ポリシー<a href="">[4.3]</a><br>準拠のため</td></tr></tbody></table> <h3 id="セキュリティポリシー逸脱検出スタック"><a href="#セキュリティポリシー逸脱検出スタック" class="header-anchor">#</a> セキュリティポリシー逸脱検出スタック</h3> <hr> <p>(スタック名) <em>StackSet-SC-904580840362-pp-wavzgnmpgn4ng-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>セキュリティポリシーを逸脱する可能性のある操作を検知・通知</strong>することで、セキュリティ監視に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">AuthorizationFailuresMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.1]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailAuthorizationFailures</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.1]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">ConsoleSignInWithoutMFAMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.2]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailConsoleSignInWithoutMFA</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.2]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">RootAccountUsedMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.3]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailRootAccountUsed</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.3]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">IAMPolicyChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.4]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailIAMPolicyChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.4]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">CloudTrailChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.5]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailConfigChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.5]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">ConsoleSignInFailuresMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.6]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailConsoleSignInFailures</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.6]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">CMKsDisabledMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.7]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailCMKsDisabled</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.7]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">S3BucketPolicyChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.8]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailS3BucketPolicyChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.8]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">ConfigChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.9]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailConfigChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.9]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">SecurityGroupChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.10]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailSecurityGroupChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.10]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">NetworkAclChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.11]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailNetworkAclChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.11]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">GatewayChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.12]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailGatewayChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.12]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">RouteTableChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.13]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailRouteTableChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.13]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Logs</td> <td style="text-align:left;">メトリクスフィルタ</td> <td style="text-align:left;">VpcChangesMetricFilter*1</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.14]</a>準拠のため</td></tr> <tr><td style="text-align:left;">CloudWatch</td> <td style="text-align:left;">アラーム</td> <td style="text-align:left;">orbit-CloudTrailVpcChanges</td> <td style="text-align:left;">オレゴン</td> <td style="text-align:left;">ポリシー<a href="">[3.14]</a>準拠のため</td></tr></tbody></table> <p>*1 正確には以下のリソース名が完全リソース名となります。<br> <code>SC-012345678910-pp-wavzgnmpgn4ng-XXXMetricFilter-XXX</code></p> <div class="custom-block tip"><p class="custom-block-title">INFO</p> <p>各アラームとメトリクスは、検知元が<em>CloudTrail</em>のログであるため、ロググループの存在するオレゴンにのみプロビジョニングされます。</p></div> <h3 id="脅威検知スタック"><a href="#脅威検知スタック" class="header-anchor">#</a> 脅威検知スタック</h3> <hr> <p>(スタック名) <em>StackSet-SC-904580840362-pp-jcnxehghcgwci-XXX</em></p> <p>これらのリソースは、プロジェクトアカウント内の<strong>脅威を検知・通知</strong>することで、セキュリティ監視に使用されます。</p> <table><thead><tr><th style="text-align:left;">AWSサービス</th> <th style="text-align:left;">リソース種別</th> <th style="text-align:left;">リソース名</th> <th style="text-align:left;">展開リージョン</th> <th style="text-align:left;">用途</th></tr></thead> <tbody><tr><td style="text-align:left;">GuardDuty</td> <td style="text-align:left;">ディテクタ</td> <td style="text-align:left;">ランダム*1</td> <td style="text-align:left;">すべて</td> <td style="text-align:left;">脅威の検知</td></tr> <tr><td style="text-align:left;">CloudWatch<br>Event</td> <td style="text-align:left;">ルール</td> <td style="text-align:left;">orbit-GuardDutyFindingsDetectEventRule</td> <td style="text-align:left;">すべて</td> <td style="text-align:left;">脅威の通知</td></tr> <tr><td style="text-align:left;">SNS</td> <td style="text-align:left;">トピック</td> <td style="text-align:left;">orbit-AggregateGuardDutyNotification</td> <td style="text-align:left;">すべて</td> <td style="text-align:left;">脅威の配信</td></tr></tbody></table> <p>*1 GuardDutyを有効にした際に作成されるDetectorのIDが該当します。</p> <h2 id="ベースラインの利用料金"><a href="#ベースラインの利用料金" class="header-anchor">#</a> ベースラインの利用料金</h2> <p>ベースラインには、利用しているサービスに伴う利用料金が発生し、この料金はプロジェクト側の利用料金として配賦されます。</p> <p>どの程度の料金が掛かるのか、以下に3つのプロジェクトにおける、過去2か月分の請求サンプルを載せますので、参考にしてください。</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>実際には、<em>AWS Config</em>、<em>Amazon CloudTrail</em>、<em>Amazon GuardDuty</em> 以外のサービスもベースラインでは利用していますが、大きく割合を占めるものでは無いため、ここでは割愛します。</p></div> <ul><li>サンプル１</li></ul> <p>こちらは、プロジェクトAの開発環境における利用料金の内訳になります。<br>
プロジェクトAの開発人数は2人で、主にサーバーレスによる開発を行っています。</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">プロジェクトA<br>2月分</th> <th style="text-align:center;">プロジェクトA<br>1月分</th></tr></thead> <tbody><tr><td style="text-align:center;">すべての利用料金</td> <td style="text-align:center;">$167.8</td> <td style="text-align:center;">$226.24</td></tr> <tr><td style="text-align:center;">ベースライン利用料金の割合</td> <td style="text-align:center;">8%</td> <td style="text-align:center;">4%</td></tr> <tr><td style="text-align:center;">ベースラインの利用料金</td> <td style="text-align:center;">$13.59</td> <td style="text-align:center;">$9.34</td></tr> <tr><td style="text-align:center;">Config</td> <td style="text-align:center;">$12.21</td> <td style="text-align:center;">$8.46</td></tr> <tr><td style="text-align:center;">CloudTrail</td> <td style="text-align:center;">$0</td> <td style="text-align:center;">$0</td></tr> <tr><td style="text-align:center;">GuardDuty</td> <td style="text-align:center;">$1.38</td> <td style="text-align:center;">$0.88</td></tr></tbody></table> <p>ベースラインの利用料金の占める割合は大きくありませんが、<em>AWS Config</em>にある程度の料金が掛かっています。<em>AWS Config</em>は、リソースに変更がある度に記録を行いますので、設定変更が多発する開発環境では応じて料金も掛かります。</p> <ul><li>サンプル2</li></ul> <p>こちらは、プロジェクトBの開発環境における利用料金の内訳になります。<br>
プロジェクトBの開発人数は3人で、主にサーバーレスによる開発を行っています。</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">プロジェクトB<br>2月分</th> <th style="text-align:center;">プロジェクトB<br>1月分</th></tr></thead> <tbody><tr><td style="text-align:center;">すべての利用料金</td> <td style="text-align:center;">$67.81</td> <td style="text-align:center;">$25.54</td></tr> <tr><td style="text-align:center;">ベースライン利用料金の割合</td> <td style="text-align:center;">32%</td> <td style="text-align:center;">43%</td></tr> <tr><td style="text-align:center;">ベースラインの利用料金</td> <td style="text-align:center;">$21.97</td> <td style="text-align:center;">$11.11</td></tr> <tr><td style="text-align:center;">Config</td> <td style="text-align:center;">$20.19</td> <td style="text-align:center;">$9.55</td></tr> <tr><td style="text-align:center;">CloudTrail</td> <td style="text-align:center;">$0</td> <td style="text-align:center;">$0</td></tr> <tr><td style="text-align:center;">GuardDuty</td> <td style="text-align:center;">$1.78</td> <td style="text-align:center;">$1.56</td></tr></tbody></table> <p>プロジェクトAと同様に、<em>AWS Config</em>の利用料金が大半を占めています。<br>
サーバーレスにおける開発環境の場合、全体の料金が抑えられますので、設定変更が多くなると相対的にベースラインの占める割合も高くなります。</p> <ul><li>サンプル3</li></ul> <p>こちらは、プロジェクトCの概念実証における利用料金の内訳になります。<br>
プロジェクトCの開発人数は2人で、主にメディア配信のサービスを利用しています。</p> <table><thead><tr><th style="text-align:center;"></th> <th style="text-align:center;">プロジェクトC<br>2月分</th> <th style="text-align:center;">プロジェクトC<br>1月分</th></tr></thead> <tbody><tr><td style="text-align:center;">すべての利用料金</td> <td style="text-align:center;">$208.92</td> <td style="text-align:center;">$181.81</td></tr> <tr><td style="text-align:center;">ベースライン利用料金の割合</td> <td style="text-align:center;">0.5%</td> <td style="text-align:center;">0.6%</td></tr> <tr><td style="text-align:center;">ベースラインの利用料金</td> <td style="text-align:center;">$1.24</td> <td style="text-align:center;">$1.23</td></tr> <tr><td style="text-align:center;">Config</td> <td style="text-align:center;">$0.98</td> <td style="text-align:center;">$0.99</td></tr> <tr><td style="text-align:center;">CloudTrail</td> <td style="text-align:center;">$0</td> <td style="text-align:center;">$0</td></tr> <tr><td style="text-align:center;">GuardDuty</td> <td style="text-align:center;">$0.26</td> <td style="text-align:center;">$0.24</td></tr></tbody></table> <p>こちらは、メディア配信系のサービスを使用しているということもあり、ベースラインの利用料金が占める割合は低くなります。<br> <br></p> <p>プロジェクトの目的や方向性によって、ベースラインの利用料金は変わってきます。<br>
ご自身のプロジェクトにどのくらい利用料金が掛かっているのか、定期的にコストを確認し、把握することが重要です。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/aws/audit.html" class="prev">
        監査ログの記録と収集
      </a></span> <span class="next"><a href="/guide/aws/faq.html">
        よくある質問
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.6e613672.js" defer></script><script src="/assets/js/2.6effe7eb.js" defer></script><script src="/assets/js/17.e9a5ebd0.js" defer></script><script src="/assets/js/6.db5e8172.js" defer></script>
  </body>
</html>
