---
prev: false
---

# AWSアカウント管理サービス

AWSを利用するには、最初にAWSアカウントを作成する必要があります。

AWSアカウントとは、テナントのようなもので、権限・リソース・請求を明確に分離する単位であり、一般的にプロジェクトや利用目的ごとに作られます。
AWSアカウントの作成には、連絡先となるEメールアドレスの登録や、クレジットカードによる支払い情報の入力を行った後、ユーザーの登録や初期設定をする必要があります。

OrBITでは、AWSアカウントの払い出しをプロジェクトに代わって行うことで、プロジェクトの作業工数を削減します。また、そのアカウントを組織的に管理することで、全社的にガバナンスを効かせることができます。

[[toc]]
  
## プロジェクトアカウント
OrBITから払い出されたAWSアカウントのことをプロジェクトアカウントと呼びます。

プロジェクトアカウントは、特定のプロジェクトのために集められたメンバーが利用し、サービスをローンチするために利用されます。

1つのプロジェクトで利用目的別に複数のプロジェクトアカウントを持つこともできます。

### 利用目的
---
プロジェクトアカウントを払い出す際には、その利用目的に応じて、以下のいずれかの環境を選択する必要があります。また、以下のいずれにも該当しない場合は、別途、払い出しの際に申告することが可能です。

| 環境名 | 略称　| 用途 | 
| :---: | :---: |  :--- |
| 本番環境 | prd | エンドユーザーへサービスを提供するための環境 |
| ステージング環境 | stg | サービスのテストを実施するための環境 |
| 開発環境 | dev | サービスの開発を行うための環境 |
| 概念実証 | poc | 技術調査や概念実証を行うための環境 |

::: danger IMPORTANT
本番環境の払い出しに関しては、OrBIT運用チームによる審査があります。
:::

### 本番環境の払い出しに関する審査
---
本番環境はそれ以外の環境とは異なり、OrBIT運用チームによるセキュリティエスカレーションのサービスレベルが上がります。
> 詳細については、[「セキュリティエスカレーション」](/guide/aws/service/monitoring.html#セキュリティエスカレーション)を参照してください。

従って、本番環境の払い出しの際には、OrBIT運用チームがサービスの計画や体制を把握するために、以下のような情報の提出をして頂く必要があります。

- サービスの概要
- サービスの規模と予測
- サービスの本番運用体制

例えば、[BDR](/guide/common/glossary.html#dr-design-review)が終了している基本計画書などを、本番環境の払い出し申請の際に添付してください。

### 払い出しのフロー
---
プロジェクトアカウントを払い出すまでの流れを以下に示します。
また、払い出しにおけるプロジェクト側での作業についても説明します。

<CaptionedImage src="account_flow.png" caption="プロジェクトアカウント払い出しのフロー"/>

#### 1. 払い出し申請
プロジェクトアカウントを利用したい場合は、[「クラウド環境の払い出し申請フォーム」](/request/create-env.html)から、払い出しの申請を行うことができます。

申請の際には以下の情報が必要になりますので、事前にご用意ください。

| 項目 | 内容 | 備考 | 
| :--- | :--- | :--- |
| プロジェクト名 | プロジェクトの名称です。 | 半角英数字と一部記号*1が利用可能です。 |
| 利用目的 | アカウントの利用目的です。 | 利用目的は[こちら](#利用目的)から選んでください。 |
| 配賦情報 | 利用料金の配賦先情報です。 | 部門名<br>部門コード<br>科目名<br>科目コード<br>が必要になります。 |
| メンバー情報 |  利用するメンバーの情報です。 | 部門名<br>名前(英語表記)<br>Eメールアドレス<br>役割 ([こちら](/guide/aws/service/id-management.html#役割の一覧)から選んでください)<br>が必要になります。 |

*1 ピリオド( . )、ハイフン( - )、アンダーバー( _ )が利用可能です。

::: danger IMPORTANT
プロジェクトアカウントを払い出す前提条件として、以下を満たしている必要があります。
- プロジェクトとしての体制が構築されている。
- クラウド利用料金の配賦先が明確になっている。
:::
::: warning ATTENTION
プロジェクトアカウントの払い出しには、最大で5営業日程度かかる場合があります。
:::

#### 2. 情報修正
払い出し申請の際に入力した情報が不足している、もしくは間違っていると思われる場合、プロジェクト責任者へ情報修正をお願いすることがあります。

その際は必要な箇所を修正し、再度払い出しの申請を行ってください。

#### 3. 情報拡充
本番環境の払い出しに限り、審査があります。
審査の基準やその必要性に関しては、[「本番環境の払い出しに関する審査」](#本番環境の払い出しに関する審査)をご覧ください。

もし、審査が通らなかった場合、追加資料の提出や情報の拡充を行い、再度払い出しの申請を行ってください。

#### 4. 払い出し完了
払い出し作業が終了したら、Eメールにてプロジェクト責任者へと完了を通知します。
プロジェクト責任者は、各メンバーに対して利用可能になった旨を伝えてください。

通知の際には、プロジェクトアカウントに関する以下の情報を提供します。
| 項目 | 内容 | 備考 | 
| :--- | :--- | :--- |
| アカウント名 | プロジェクトアカウントの名称です。 | プロジェクト名 + 利用目的 から構成されます。 |
| ログインURL | SSOポータルのログインURLです。 |　SSOポータルに関しては、[こちら](/guide/aws/service/id-management.html#ssoポータル)をご覧ください。 |
| ルートユーザー<br>アドレス | ルートユーザーのEメールアドレスです。 |　ルートユーザーに関しては、[こちら](#ルートユーザー)をご覧ください。 |
| メンバー情報 |  登録したメンバーの情報です。 |  登録日時<br>登録者<br>を追加で記載しています。|

#### 5. ログインして利用開始
プロジェクトアカウントへのログインは、SSOポータルから行います。
SSOポータルについては、[「SSOポータルとは？」](/guide/aws/service/id-management.html#ssoポータル)を参照して下さい。

ログインができたら、AWSを利用する準備が整いました。早速触ってみましょう。
はじめてAWSを触る方は、以下のサイトなどを参考にしてみてください。
- [「はじめてのアマゾン ウェブ サービス オンデマンドセミナー」](https://aws.amazon.com/jp/about-aws/events/webinars/hajimete-ondemand/)
- [「AWSクラウドサービス活用資料集」](https://aws.amazon.com/jp/aws-jp-introduction/)

::: tip NOTE
技術開発部 要素技術グループ クラウド基盤チームには、AWSの知識が豊富な方が多数在籍していますので、質問や困り事がありましたら、お気軽にご連絡ください。
:::

### 各種申請
---
プロジェクトアカウントの払い出し、情報更新、および解約は、以下のフォームから申請することができます。
- [「クラウド環境の払い出し申請フォーム」](/request/create-env.html)
- [「クラウド環境の設定変更申請フォーム」](/request/update-env.html)
- [「クラウド環境の解約申請フォーム」](/request/destroy-env.html)

## ベースライン
プロジェクトアカウントは通常のAWSアカウントとは異なり、OrBITから支援を受けるための仕組みが備わっており、その仕組みをベースラインと呼びます。

ベースラインはすべてのプロジェクトアカウントに共通にプロビジョニングされます。
詳細については、[「ベースライン」](/guide/aws/reference/baseline.html)を参照して下さい。

::: danger IMPORTANT
ベースラインには、利用しているサービスに伴う利用料金が発生します。
この料金はプロジェクト側の利用料金として配賦されます。
また、ベースラインの利用可否の選択やリソースの削除はできません。
:::

## ルートユーザー
一般的にAWSアカウントを作成する際、最初にルートユーザーというユーザーアカウントがAWSから用意され、そのユーザーで初期作業を行う必要があります。

ルートユーザーは、すべてのAWSサービスとリソースに対して完全なアクセス権限を持つため、日常的なタスクには使用しないことが推奨されています。
一般的に、このようなアクセス権限管理は、以下の事項に従うことが推奨されます。
- [「IAMのベストプラクティス」](https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/best-practices.html)

### ルートユーザーの代替管理
OrBITでは、ルートユーザーをプロジェクトに代わって厳重に管理します。
例えば、以下に代表される様々なセキュリティ要件に従って管理されています。

- ハードウェアMFAデバイスを利用した多要素認証によるログイン
- ハードウェアMFAデバイスの物理的な厳重管理
- 強力なパスワードポリシーに準拠したパスワードの設定
- パスワードの秘匿化
- 連絡先の設定
- 秘密の質問の設定

MFAデバイスによる多要素認証が必要であるため、必然的にプロジェクト側ではルートユーザーでのログインができません。
[ルートユーザーでしか実行できないタスク](#ルートユーザーでしか実行できないタスク)が必要になった際は、お手数ですが[ルートユーザーでの作業依頼](#ルートユーザーでの作業依頼)の手順にてお問い合わせください。

::: tip NOTE
一般的にルートユーザーのパスワードは以下の手順を踏めばリセットすることが可能です。
- [「紛失したり忘れたりしたパスワードまたはアクセスキーのリセット」](https://docs.aws.amazon.com/ja_jp/IAM/latest/UserGuide/id_credentials_access-keys_retrieve.html)

しかし、ログインには上述の多要素認証が必要になるため、この手順を行ったとしてもプロジェクト側ではログインすることはできません。
また、現時点でルートユーザーのログイン権限をプロジェクト側に提供する予定はありません。
:::

### ルートユーザーでしか実行できないタスク
例えば、以下のようなタスクはルートユーザーでしか実行することができません。
- アカウント情報(連絡先・支払い方法など)の変更
- サポートプランの変更
- CloudFrontキーペアの作成
- アカウントの解約

タスクの詳細については以下を参照してください。
- [「AWSアカウントのルートユーザーの認証情報が必要なAWSタスク」](https://docs.aws.amazon.com/ja_jp/general/latest/gr/aws_tasks-that-require-root.html)

### ルートユーザーでの作業依頼
ルートユーザーでしか実行できないタスクが必要になった際は、以下のフォームからOrBIT運用チームへ作業依頼を申請する事ができます。

- [「アカウント情報の変更依頼申請フォーム」](/request/update-env.html)
- [「サポートプラン変更依頼申請フォーム」](/request/update-support.html)
- [「アカウント解約依頼申請フォーム」](/request/destroy-env.html)

また、上記以外の作業依頼については、[「その他作業依頼」](/request/other.html)から行う事ができます。

### ルートユーザーのEメールアドレス
一般的にAWSアカウントを作成する場合、ルートユーザーとして最低１つのEメールアドレスが必要になります。このアドレスはグローバルでユニークである必要があるため、OrBITではアカウントの払い出しの際に、プロジェクトに応じた名称で社内メーリングリストの発行手続きを行います。

::: tip NOTE
例えば、`TestProject`というプロジェクトに払い出されたアカウントのルートユーザは、`testproject1@jvckenwood.com`というEメールアドレスになります。また、同プロジェクトで別アカウントが必要になった際は、`testproject2@jvckenwood.com`のように連番で別Eメールアドレスが発行されます。
:::

メーリングリストには、OrBITへ払い出しを依頼した際のプロジェクトメンバーが所属しています。
このメーリングリストをプロジェクト側でご利用頂くことも可能ですが、メーリングリストはOrBIT運用チームで管理していますので、更新作業には都度、依頼が必要になります。頻繁に更新が予想される場合や社外の方を所属させる予定がある場合はご利用をお控えください。

尚、ルートユーザーのEメールアドレスは[「SSOポータル」](/guide/aws/service/id-management.html#ssoポータル)から確認することができます。

## 組織管理
OrBITでは、すべてのプロジェクトアカウントが、「どこの」「誰に」「どのような目的で」利用されているかを把握し、管理しています。

これは、*AWS Organizations*というアカウント管理サービスを利用して実現しています。
*AWS Organizations*では、OU(Organization Unit)という、論理的なAWSアカウントのグループを作成することができ、それを階層的に構築することで細やかな管理と制御を行うことができます。

参考までに、組織構成のイメージ図を以下に載せます。
> 灰色がOU、水色がOrBITが管理するアカウント、橙色がプロジェクトアカウントを示しています。

<CaptionedImage src="organization.png" caption=""/>

::: warning ATTENTION
プロジェクトアカウントは*AWS Organizations*によって管理されていることを意識する必要はありませんが、通常のAWSアカウントにおける利用とは、以下の点で異なります。
- 12か月間の[無量利用枠](https://aws.amazon.com/free/)が無い。
- 別の組織に許可なく所属することができない。
:::
::: tip INFO
組織構成におけるRootでは、すべてのAWSアカウントの一括請求を行うことができます。
詳細については、[「一括請求による支払いと社内配賦」](/guide/aws/service/billing.html#一括請求による支払いと社内配賦)を参照してください。
:::

## プロジェクトアカウントの棚卸
OrBITでは、定期的にすべてのプロジェクトアカウントに対して、下記要件にて棚卸をお願いしています。プロジェクトアカウントの棚卸は、不要なコストの発生や、セキュリティインシデントを防ぐためにも重要ですので、ご協力をお願いします。

| 項目 | 内容 |
| :---: | :--- |
| 対象 | すべてのプロジェクトアカウント |
| 実施時期 | 9月末と3月末 / 毎年 |
| 依頼先 | プロジェクト責任者 |
| 依頼手段 | Eメールアドレス |
| 添付資料 | プロジェクトが利用しているプロジェクトアカウントの一覧 |
| 依頼内容 | 不要なプロジェクトアカウントがないかの確認<br>意図していない設定になっていないかの確認 |
